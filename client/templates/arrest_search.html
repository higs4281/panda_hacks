<!DOCTYPE html>

{% load i18n %}
{% load compress %}

<html>
<head>
    <title>PANDA arrest search</title>
    <link rel="icon" href="{{ settings.STATIC_URL }}img/favicon.ico" />

    {% compress css %}
    <link rel="stylesheet" href="{{ settings.STATIC_URL }}css/reset.css" type="text/css" charset="utf-8"/>
    <link rel="stylesheet" href="{{ settings.STATIC_URL }}css/bootstrap.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="{{ settings.STATIC_URL }}css/panda.css" type="text/css" charset="utf-8"/>
    {% endcompress %}
    <style>.navbar {display: block;}</style>
</head>
<body>
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container-fluid">
                <ul class="nav pull-left">
                    <li id="logo"><a href="/#search/all"><img src="{{ settings.STATIC_URL }}img/panda_and_ire.png" /></a></li>
                </ul>
                <ul class="nav pull-right"></ul>
            </div>
        </div>
   </div>
    <div id="content" class="container-fluid"  style="background: white;">
    <div class="row-fluid">

        <div class="span6">
        <h3>ARRESTS</h3>
        <h2>Search arrests by name</h2>
        <p>Looks across Hillsborough, Pinellas, Pasco, Hernando, Manatee, Sarasota and Charlotte counties, dating to June 2012.</p>
        <form id="arrestee">
        <label>First name: </label>
        <input type="text" id="fn"/><br>
        <label>Last name: </label>
        <input type="text" id="ln"/><br>
        <label>DOB (optional): </label>
        <input type="date" id="dob" placeholder="mm/dd/YYYY"/>
        <input type="submit" value="Submit">
        </form><br> 

        <h2>Search arrest reports</h2>
        <p>Search the text of Pinellas arrest reports filed since September 2014.</p>
        <form id="reports">
        <input placeholder="example: baseball bat" type="text" id="report"/><br>
        <input type="submit" value="Submit">
        </form><br>

        <h2>Search county arrests by date</h2>
        <p>Returns all arrests in a county on a given day.</p>
        <form id="countydates">
        <label>Date: </label>
        <input type="date" id="cdate" placeholder="mm/dd/YYYY"/>
        <label>County: </label>
        <select name="county" id='dcounty'>
          <option value="" selected="selected">----</option>
          <option value="charlotte">Charlotte</option>
          <option value="hernando">Hernando</option>
          <option value="hillsborough">Hillsborough</option>
          <option value="manatee">Manatee</option>
          <option value="pasco">Pasco</option>
          <option value="pinellas">Pinellas</option>
          <option value="sarasota">Sarasota</option>
        </select>
        <input type="submit" value="Submit">
        </form><br>

        <h2>Search arrests  by employer</h2>
        <p>Hillsborough is the only county that regularly reports employer info.</p>
        <form id="employer">
        <input placeholder="examples: yankees, times, tribune" type="text" id="emp"/><br>
        <input type="submit" value="Submit">
        </form><br>




</div>

<div class="span6">
        <h3>CRIME CALLS</h3>
        <h2>Search crime calls by address</h2>
        <p>Checks addresses in Hillsborough, Pinellas, Pasco and Hernando for crime calls, dating to November 2010.</p>
        <form id="crimecalls">
        <label>Number: </label>
        <input type="text" id="number"/><br>
        <label>Street name (no directionals): </label>
        <input type="text" id="street"/><br>
        <label>County (optional): </label>
        <select name="county" id='county'>
          <option value="" selected="selected">----</option>
          <option value="hillsborough">Hillsborough</option>
          <option value="pinellas">Pinellas</option>
          <option value="pasco">Pasco</option>
          <option value="hernando">Hernando</option>
        </select>
        <input type="submit" value="Submit">
        </form><br>
 </div>
 </div>

    {% compress js %}
    <script type="text/javascript" src="{{ settings.STATIC_URL }}js/lib/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="{{ settings.STATIC_URL }}js/lib/jquery.cookie.js"></script>
    <script type="text/javascript" src="{{ settings.STATIC_URL }}js/lib/bootstrap.js"></script>
    <script type="text/javascript" src="{{ settings.STATIC_URL }}js/lib/bootbox.js"></script>
        <script type="text/javascript" src="{{ settings.STATIC_URL }}js/utils.js"></script>
    <script type="text/javascript" src="{{ settings.STATIC_URL }}js/application.js"></script>
    <script type="text/javascript" src="{{ settings.STATIC_URL }}js/errors.js"></script>
    {% endcompress %}

<script> 
    $('#fn').focus();
    $('#arrestee').submit(function( event ) {
        var uri = "";
        var fn = $("#fn").val().trim();        
        var ln = $("#ln").val().trim();        
        var dob = $("#dob").val();  
        if (dob) {
            uri = "http://ec2-50-16-235-71.compute-1.amazonaws.com/watcher/dobname/"+fn+"/"+ln+"/"+dob+"/"
        }
        else {
            uri = "http://ec2-50-16-235-71.compute-1.amazonaws.com/watcher/dobname/"+fn+"/"+ln+"/"
        };
        event.preventDefault();
        if ( fn && ln ) {
            window.location = uri;
            }
    });
    $('#employer').submit(function( event ) {
        var emp = $("#emp").val().trim();        
        var uri = "http://ec2-50-16-235-71.compute-1.amazonaws.com//watcher/arrestee/employed/"+emp+"/";
        event.preventDefault();
        if ( emp ) {
            window.location = uri;
            }
    });
    $('#crimecalls').submit(function( event ) {
        var uri = "";
        var numb = $("#number").val().trim();        
        var street = $("#street").val().trim();        
        var county = $("#county").val();  
        event.preventDefault();
        if ( numb && street ) {
            if ( county ) {
                    uri = "http://ec2-107-20-94-55.compute-1.amazonaws.com/watch/crime/by-address/"+numb+"/"+street+"/"+county+"/";
                } else {
                    uri = "http://ec2-107-20-94-55.compute-1.amazonaws.com/watch/crime/by-address/"+numb+"/"+street+"/";
            };
            window.location = uri;
            };
    });
    
    $('#reports').submit(function( event ) {
        var uri = "";
        var kywords = $("#report").val().trim();
        var qstring = encodeURIComponent(kywords);
        event.preventDefault();
        if ( qstring ) {
            uri = "http://ec2-50-16-235-71.compute-1.amazonaws.com/watcher/report-search/"+qstring+"/";
            window.location = uri;
            };
    });
    
    $('#countydates').submit(function( event ) {
        var uri = "";
        var county = $("#dcounty").val();
        var cdate = $("#cdate").val();  
        event.preventDefault();
        if ( county && cdate ) {
            uri = "http://ec2-50-16-235-71.compute-1.amazonaws.com/watcher/arrestee/county/"+county+"/"+cdate+"/"
            window.location = uri;
            };
    });
    
</script>
    </div>
    <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="{{ settings.STATIC_URL }}js/lib/excanvas.min.js"></script><![endif]-->


    <script type="text/javascript">
        PANDA.settings.VERSION = "{{ settings.PANDA_VERSION }}";
        PANDA.settings.STATIC_URL = "{{ settings.STATIC_URL }}";
        PANDA.settings.DEFAULT_SEARCH_GROUPS = {{ settings.PANDA_DEFAULT_SEARCH_GROUPS }};
        PANDA.settings.DEFAULT_SEARCH_ROWS_PER_GROUP = {{ settings.PANDA_DEFAULT_SEARCH_ROWS_PER_GROUP }};
        PANDA.settings.DEFAULT_SEARCH_ROWS = {{ settings.PANDA_DEFAULT_SEARCH_ROWS }};
        PANDA.settings.UNCATEGORIZED_ID = {{ settings.PANDA_UNCATEGORIZED_ID }};
        PANDA.settings.AVAILABLE_SPACE_WARN = {{ settings.PANDA_AVAILABLE_SPACE_WARN }};
        PANDA.settings.AVAILABLE_SPACE_CRITICAL = {{ settings.PANDA_AVAILABLE_SPACE_CRITICAL }};
        PANDA.settings.PANDA_NOTIFICATIONS_TO_SHOW = {{ settings.PANDA_NOTIFICATIONS_TO_SHOW }};
        PANDA.settings.MAX_UPLOAD_SIZE = {{ max_upload_size }};
        PANDA.settings.EMAIL_ENABLED = {{ email_enabled }};
        PANDA.settings.DEMO_MODE_ENABLED = {{ demo_mode_enabled }};
        PANDA.bootstrap = {{ bootstrap_data|safe }};
    </script>

    <script type="text/javascript" src="templates.js"></script>
    <script type="text/javascript" src="i18n.js"></script>

</body>
</html>

